# Chapter 4: Modules Should Be Deep (λ¨λ“μ€ κΉμ–΄μ•Ό ν•λ‹¤)

## ν•µμ‹¬ μ§λ¬Έ

μΆ‹μ€ λ¨λ“κ³Ό λ‚μ λ¨λ“μ μ°¨μ΄λ” λ¬΄μ—‡μΈκ°€? λ¨λ“μ μΈν„°νμ΄μ¤μ™€ κΈ°λ¥ μ‚¬μ΄μ— μ–΄λ–¤ κ΄€κ³„κ°€ μμ–΄μ•Ό ν•λ”κ°€?

---

## 1. λ¨λ“λ¬ μ„¤κ³„ (Modular Design)

### 1.1 λ¨λ“μ΄λ€

μ†ν”„νΈμ›¨μ–΄ μ‹μ¤ν…μ€ **λ¨λ“(module)** λ“¤λ΅ κµ¬μ„±λλ‹¤. λ¨λ“μ€ λ‹¤μ–‘ν• ν•νƒλ¥Ό κ°€μ§ μ μλ‹¤:

- ν΄λμ¤ (class)
- ν•¨μ (function)
- μ„λΈμ‹μ¤ν… (subsystem)
- μ„λΉ„μ¤ (service)
- ν¨ν‚¤μ§€/λΌμ΄λΈλ¬λ¦¬ (package/library)

### 1.2 λ¨λ“λ¬ μ„¤κ³„μ λ©ν‘

> **μ΄μƒμ μΈ λ¨λ“λ¬ μ„¤κ³„μ—μ„ κ°λ°μλ” ν• λ²μ— ν•λ‚μ λ¨λ“λ§ λ‹¤λ£¨λ©΄ λκ³ , λ‚λ¨Έμ§€ λ¨λ“μ μ„Έλ¶€μ‚¬ν•­μ€ μ• ν•„μ”κ°€ μ—†λ‹¤.**

μ΄κ²ƒμ΄ κ°€λ¥ν•λ ¤λ©΄:
- κ° λ¨λ“μ΄ λ…λ¦½μ μΌλ΅ μ΄ν•΄ κ°€λ¥ν•΄μ•Ό ν•λ‹¤
- λ¨λ“ κ°„μ μμ΅΄μ„±μ΄ μµμ†ν™”λμ–΄μ•Ό ν•λ‹¤
- λ¨λ“μ΄ λ³µμ΅μ„±μ„ λ‚΄λ¶€μ— κ°€λ‘μ–΄μ•Ό ν•λ‹¤

---

## 2. μΈν„°νμ΄μ¤μ™€ κµ¬ν„

### 2.1 λ¨λ“  λ¨λ“μ€ λ‘ λ¶€λ¶„μΌλ΅ λ‚λ‰λ‹¤

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              Interface                   β”‚
β”‚  (λ¨λ“μ„ μ‚¬μ©ν•κΈ° μ„ν•΄ μ•μ•„μ•Ό ν•λ” κ²ƒ)       β”‚
β”‚                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”‚  β”‚ κ³µμ‹μ  λ¶€λ¶„: λ©”μ„λ“ μ‹κ·Έλ‹μ², νƒ€μ…      β”‚β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”‚  β”‚ λΉ„κ³µμ‹μ  λ¶€λ¶„: λ™μ‘ μ„¤λ…, μ μ•½ μ΅°κ±΄,   β”‚β”‚
β”‚  β”‚ λ¶€μ ν¨κ³Ό, μ„±λ¥ νΉμ„±                  β”‚β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚            Implementation                β”‚
β”‚  (μΈν„°νμ΄μ¤μ μ•½μ†μ„ μ΄ν–‰ν•λ” μ½”λ“)         β”‚
β”‚  (μ‚¬μ©μκ°€ μ• ν•„μ” μ—†λ” λ‚΄λ¶€ μ„Έλ¶€μ‚¬ν•­)       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 2.2 κ³µμ‹μ  μΈν„°νμ΄μ¤ vs λΉ„κ³µμ‹μ  μΈν„°νμ΄μ¤

**κ³µμ‹μ  μΈν„°νμ΄μ¤ (Formal Interface)**: μ–Έμ–΄κ°€ κ°•μ ν•λ” λ¶€λ¶„

```java
public interface Cache<K, V> {
    V get(K key);
    void put(K key, V value);
    void invalidate(K key);
    int size();
}
```

**λΉ„κ³µμ‹μ  μΈν„°νμ΄μ¤ (Informal Interface)**: μ£Όμ„, λ¬Έμ„, κ΄€λ΅€λ΅ μ „λ‹¬λλ” λ¶€λ¶„

```java
/**
 * μΊμ‹μ—μ„ κ°’μ„ μ΅°νν•λ‹¤.
 *
 * @param key μ΅°νν•  ν‚¤ (null λ¶κ°€)
 * @return ν‚¤μ— ν•΄λ‹Ήν•λ” κ°’. μ—†μΌλ©΄ null.
 *         λ°ν™λ κ°’μ€ μ¤λ λ“ μ•μ „ν•μ§€ μ•μΌλ―€λ΅ νΈμ¶μκ°€ λ™κΈ°ν™”ν•΄μ•Ό ν•λ‹¤.
 *         μµκ·Ό μ ‘κ·Όλ ν•­λ©μ΄ μΊμ‹μ—μ„ λ” μ¤λ μ μ§€λλ‹¤ (LRU μ •μ±…).
 */
V get(K key);
```

> **ν•µμ‹¬ ν†µμ°°**: μΈν„°νμ΄μ¤μ λΉ„κ³µμ‹μ  λ¶€λ¶„μ€ κ³µμ‹μ  λ¶€λ¶„λ§νΌ (λ•λ΅λ” λ”) μ¤‘μ”ν•λ‹¤. λ©”μ„λ“ μ‹κ·Έλ‹μ²λ§μΌλ΅λ” λ¨λ“μ„ μ¬λ°”λ¥΄κ² μ‚¬μ©ν•κΈ° μ–΄λ µλ‹¤. λΉ„κ³µμ‹μ  μΈν„°νμ΄μ¤κ°€ λ¶€μ‹¤ν•λ©΄ Unknown Unknownsμ΄ λ°μƒν•λ‹¤.

---

## 3. μ¶”μƒν™” (Abstraction)

### 3.1 μ¶”μƒν™”λ€

> **μ¶”μƒν™”λ€ μ‹¤μ²΄μ λ‹¨μν™”λ κ΄€μ (simplified view)μΌλ΅, μ¤‘μ”ν•μ§€ μ•μ€ μ„Έλ¶€μ‚¬ν•­μ„ μƒλµν• κ²ƒμ΄λ‹¤.**

λ¨λ“μ μΈν„°νμ΄μ¤λ” κ·Έ λ¨λ“μ μ¶”μƒν™”λ‹¤. μΆ‹μ€ μ¶”μƒν™”λ” μ‚¬μ©μμ—κ² ν•„μ”ν• μ •λ³΄λ§ ν¬ν•¨ν•κ³ , λ‚λ¨Έμ§€λ” μƒλµν•λ‹¤.

### 3.2 λ‚μ μ¶”μƒν™”μ λ‘ κ°€μ§€ ν•νƒ

**1. μ¤‘μ”ν• μ„Έλ¶€μ‚¬ν•­μ„ μƒλµν•λ” μ¶”μƒν™”**

```python
# λ‚μ μ¶”μƒν™”: μ¤‘μ”ν• μ •λ³΄κ°€ λΉ μ Έ μλ‹¤
def transfer(from_account, to_account, amount):
    """κ³„μΆ κ°„ μ΄μ²΄λ¥Ό μν–‰ν•λ‹¤."""
    # μ•λ ¤μ£Όμ§€ μ•λ” κ²ƒ:
    # - μ”μ•΅ λ¶€μ΅± μ‹ μ–΄λ–»κ² λλ”κ°€?
    # - κ°™μ€ κ³„μΆλ΅ μ΄μ²΄ν•λ©΄?
    # - amountκ°€ μμλ©΄?
    # - μ΄μ²΄ ν•λ„κ°€ μλ”κ°€?
    # β†’ Unknown Unknowns λ°μƒ
```

**2. μ¤‘μ”ν•μ§€ μ•μ€ μ„Έλ¶€μ‚¬ν•­μ„ ν¬ν•¨ν•λ” μ¶”μƒν™”**

```java
// λ‚μ μ¶”μƒν™”: λ¶ν•„μ”ν• μ„Έλ¶€μ‚¬ν•­μ΄ μΈν„°νμ΄μ¤μ— λ…Έμ¶
public class FileReader {
    // μ‚¬μ©μκ°€ λ²„νΌ ν¬κΈ°μ™€ μΈμ½”λ”©μ„ λ°λ“μ‹ μ•μ•„μ•Ό ν•¨
    public FileReader(String path, int bufferSize,
                      String encoding, boolean useMmap) { ... }
}

// μΆ‹μ€ μ¶”μƒν™”: ν•©λ¦¬μ μΈ κΈ°λ³Έκ°’μΌλ΅ μ„Έλ¶€μ‚¬ν•­μ„ μ¨κΉ€
public class FileReader {
    public FileReader(String path) { ... }
    // ν•„μ”ν• κ²½μ°μ—λ§ μ„Έλ¶€ μ„¤μ • κ°€λ¥
    public FileReader(String path, FileReaderOptions options) { ... }
}
```

---

## 4. κΉμ€ λ¨λ“ (Deep Module)

μ΄ μ±…μ κ°€μ¥ μ¤‘μ‹¬μ μΈ κ°λ…μ΄λ‹¤.

### 4.1 μ‹κ°μ  λΉ„μ 

Ousterhoutλ” λ¨λ“μ„ **μ§μ‚¬κ°ν•**μΌλ΅ μ‹κ°ν™”ν•λ‹¤:

```
      β†β”€β”€β”€β”€β”€ μΈν„°νμ΄μ¤μ λ³µμ΅μ„± β”€β”€β”€β”€β”€β†’

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”€β”
β”‚           μ–•μ€ λ¨λ“                    β”‚  β”‚ κΈ°λ¥μ
β”‚     (μΈν„°νμ΄μ¤ λ³µμ΅, κΈ°λ¥ λ‹¨μ)         β”‚  β”‚ μ–‘
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”€β”

      β†β”€β”€ μΈν„°νμ΄μ¤ β”€β”€β†’

      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”€β”
      β”‚              β”‚  β”‚
      β”‚   κΉμ€ λ¨λ“   β”‚  β”‚
      β”‚              β”‚  β”‚ κΈ°λ¥μ μ–‘
      β”‚  (μΈν„°νμ΄μ¤   β”‚  β”‚
      β”‚  λ‹¨μ, κΈ°λ¥   β”‚  β”‚
      β”‚  κ°•λ ¥)       β”‚  β”‚
      β”‚              β”‚  β”‚
      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”€β”
```

- **λ„λΉ„** = μΈν„°νμ΄μ¤μ λ³µμ΅μ„±
- **λ†’μ΄(κΉμ΄)** = λ¨λ“μ΄ μ κ³µν•λ” κΈ°λ¥μ μ–‘

### 4.2 κΉμ€ λ¨λ“μ μ •μ

> **κΉμ€ λ¨λ“(Deep Module)μ€ λ‹¨μν• μΈν„°νμ΄μ¤ λ’¤μ— κ°•λ ¥ν• κΈ°λ¥μ„ μ¨κΈ°λ” λ¨λ“μ΄λ‹¤.**

### 4.3 μµκ³ μ μμ‹: Unix νμΌ I/O

Unix νμΌ I/Oλ” κΉμ€ λ¨λ“μ κµκ³Όμ„μ  μμ‹λ‹¤. λ‹¨ 5κ°μ μ‹μ¤ν… μ½λ΅ κ±°μ λ¨λ“  I/Oλ¥Ό μ²λ¦¬ν•λ‹¤:

```c
int open(const char *path, int flags);
ssize_t read(int fd, void *buf, size_t count);
ssize_t write(int fd, const void *buf, size_t count);
off_t lseek(int fd, off_t offset, int whence);
int close(int fd);
```

μ΄ 5κ°μ λ‹¨μν• ν•¨μ λ’¤μ— μ¨κ²¨μ§„ κµ¬ν„μ λ³µμ΅μ„±:

- λ‹¤μ–‘ν• μ €μ¥ μ¥μΉ λ“λΌμ΄λ²„ (HDD, SSD, NVMe...)
- λ””μ¤ν¬ λΈ”λ΅ ν• λ‹Ήκ³Ό κ΄€λ¦¬
- νμΌ μ‹μ¤ν… κµ¬ν„ (ext4, NTFS, ZFS...)
- λ””λ ‰ν† λ¦¬ κµ¬μ΅°μ™€ κ²½λ΅ νƒμƒ‰
- μΊμ‹± (νμ΄μ§€ μΊμ‹, λ²„νΌ μΊμ‹)
- λ™μ‹ μ ‘κ·Ό μ μ–΄
- λ„¤νΈμ›ν¬ νμΌ μ‹μ¤ν… (NFS)
- λ³΄μ•κ³Ό κ¶ν• κ΄€λ¦¬
- μ €λ„λ§κ³Ό ν¬λμ‹ λ³µκµ¬

μμ‹­λ§ μ¤„μ μ»¤λ„ μ½”λ“κ°€ 5κ°μ λ‹¨μν• ν•¨μ λ’¤μ— μ¨κ²¨μ Έ μλ‹¤. μ΄κ²ƒμ΄ **κΉμ€ λ¨λ“**μ΄λ‹¤.

### 4.4 λ λ‹¤λ¥Έ μμ‹: κ°€λΉ„μ§€ μ»¬λ ‰ν„°

κ°€λΉ„μ§€ μ»¬λ ‰ν„°(GC)λ” κ·Ήλ‹¨μ μΌλ΅ κΉμ€ λ¨λ“μ΄λ‹¤:

- **μΈν„°νμ΄μ¤**: μ—†μ (μΈν„°νμ΄μ¤κ°€ 0!)
- **κµ¬ν„**: λ©”λ¨λ¦¬ μ¶”μ , μ°Έμ΅° μΉ΄μ΄ν…, μ„Έλ€λ³„ μμ§‘, μ••μ¶• λ“± λ§¤μ° λ³µμ΅

μΈν„°νμ΄μ¤κ°€ μ™„μ „ν μ—†μΌλ©΄μ„ μ—„μ²­λ‚ λ³µμ΅μ„±μ„ ν΅μν•λ‹¤. κ°λ°μλ” λ©”λ¨λ¦¬ κ΄€λ¦¬μ— λ€ν•΄ μ „ν€ μƒκ°ν•μ§€ μ•μ•„λ„ λλ‹¤.

---

## 5. μ–•μ€ λ¨λ“ (Shallow Module)

### 5.1 μ •μ

> π© **Red Flag: Shallow Module**
>
> "A shallow module is one whose interface is complicated relative to the functionality it provides. Shallow modules don't help much in the fight against complexity, because the benefit they provide (not having to learn about how they work internally) is negated by the cost of learning and using their interfaces."

### 5.2 μμ‹: Java I/O

Javaμ νμΌ μ½κΈ°λ” μ–•μ€ λ¨λ“μ λ€ν‘μ  μ‚¬λ΅€λ‹¤:

```java
// νμΌμ„ μ½κΈ° μ„ν•΄ μ„Έ κ°μ κ°μ²΄λ¥Ό μ΅°ν•©ν•΄μ•Ό ν•λ‹¤
FileInputStream fileStream = new FileInputStream("data.txt");
BufferedInputStream bufferedStream = new BufferedInputStream(fileStream);
ObjectInputStream objectStream = new ObjectInputStream(bufferedStream);

// UnixλΌλ©΄?
int fd = open("data.txt", O_RDONLY);
read(fd, buffer, size);
```

Java λ°©μ‹μ λ¬Έμ :
- `FileInputStream`μ€ λ²„νΌλ§μ„ μ κ³µν•μ§€ μ•λ”λ‹¤ (λ³„λ„μ `BufferedInputStream` ν•„μ”)
- μ„Έ κ°μ ν΄λμ¤λ¥Ό μ΅°ν•©ν•΄μ•Ό κΈ°λ³Έμ μΈ νμΌ μ½κΈ°κ°€ κ°€λ¥ν•λ‹¤
- κ° ν΄λμ¤κ°€ μ–•μ•„μ„, μΈν„°νμ΄μ¤μ λΉ„μ© λ€λΉ„ μ κ³µν•λ” κ°€μΉκ°€ μ λ‹¤

### 5.3 ν•λ‚ λ”: μ§€λ‚μΉκ² μ„Έλ¶„ν™”λ λ©”μ„λ“

```java
// μ–•μ€ λ¨λ“: κ° λ©”μ„λ“κ°€ λ„λ¬΄ μ‘κ³ , μΈν„°νμ΄μ¤ λΉ„μ©μ΄ κΈ°λ¥λ³΄λ‹¤ νΌ
class StringUtils {
    static boolean hasText(String s) {
        return s != null && !s.isEmpty();
    }

    static boolean isBlank(String s) {
        return s == null || s.trim().isEmpty();
    }

    static String emptyToNull(String s) {
        return (s == null || s.isEmpty()) ? null : s;
    }

    static String nullToEmpty(String s) {
        return s == null ? "" : s;
    }
}
// κ° λ©”μ„λ“λ” ν• μ¤„μ§λ¦¬ κµ¬ν„μΈλ°, μ‚¬μ©μλ” 4κ°μ λ©”μ„λ“λ¥Ό κµ¬λ¶„ν•΄μ•Ό ν•λ‹¤
```

---

## 6. Classitis (ν΄λμ¤μ—Ό)

### 6.1 μ •μ

**Classitis**λ” "ν΄λμ¤λ” μ‘μ•„μ•Ό ν•λ‹¤"λ” μ΅°μ–Έμ„ κ·Ήλ‹¨μ μΌλ΅ μ μ©ν•μ—¬, λ„λ¬΄ λ§μ€ μ‘μ€ ν΄λμ¤λ¥Ό λ§λ“λ” μ§λ³‘μ΄λ‹¤.

### 6.2 Classitisμ μ¦μƒ

- κ° ν΄λμ¤κ°€ μµμ†ν•μ κΈ°λ¥λ§ κ°€μ§„λ‹¤ (μ–•μ€ λ¨λ“)
- κ°„λ‹¨ν• μ‘μ—…μ„ μ„ν•΄ μ—¬λ¬ ν΄λμ¤λ¥Ό μ΅°ν•©ν•΄μ•Ό ν•λ‹¤
- ν΄λμ¤ μκ°€ λ§μ•„μ„ μ „μ²΄ κµ¬μ΅°λ¥Ό νμ•…ν•κΈ° μ–΄λ µλ‹¤
- κ° ν΄λμ¤μ μΈν„°νμ΄μ¤λ¥Ό λ°°μ°λ” λΉ„μ©μ΄ κΈ°λ¥μ—μ„ μ–»λ” μ΄μ λ³΄λ‹¤ ν¬λ‹¤

### 6.3 Ousterhoutμ μ…μ¥

> **ν•µμ‹¬ ν†µμ°°**: ν΄λμ¤μ κ°€μΉλ” ν¬κΈ°κ°€ μ•„λ‹λΌ **κΉμ΄**λ΅ νλ‹¨ν•΄μ•Ό ν•λ‹¤. μ‘μ€ ν΄λμ¤κ°€ λ°λ“μ‹ μΆ‹μ€ κ²ƒμ€ μ•„λ‹λ‹¤. μ¤‘μ”ν• κ²ƒμ€ μΈν„°νμ΄μ¤μ λ³µμ΅μ„± λ€λΉ„ μ κ³µν•λ” κΈ°λ¥μ μ–‘μ΄λ‹¤.

```
λ‚μ¨: μ‘μ§€λ§ μ–•μ€ ν΄λμ¤ 10κ°
     β†’ 10κ°μ μΈν„°νμ΄μ¤λ¥Ό λ°°μ›μ•Ό ν•κ³ , κ°κ° λ³„ κΈ°λ¥μ΄ μ—†μ

μΆ‹μ: ν¬μ§€λ§ κΉμ€ ν΄λμ¤ 2κ°
     β†’ 2κ°μ λ‹¨μν• μΈν„°νμ΄μ¤ λ’¤μ— κ°•λ ¥ν• κΈ°λ¥μ΄ μ¨κ²¨μ§
```

---

## 7. κΉμ€ λ¨λ“ λ§λ“¤κΈ° μ‹¤μ „

### 7.1 μ„¤κ³„ μ‹ μλ¬Έ

μƒλ΅μ΄ λ¨λ“μ„ μ„¤κ³„ν•  λ• λ‹¤μμ„ μλ¬Έν•λ‹¤:

1. **"μ΄ λ¨λ“μ μΈν„°νμ΄μ¤λ¥Ό λ” λ‹¨μν•κ² λ§λ“¤ μ μλ”κ°€?"**
   - λ¶ν•„μ”ν• νλΌλ―Έν„°λ¥Ό μ κ±°ν•κ±°λ‚ κΈ°λ³Έκ°’μ„ μ κ³µν•  μ μλ”κ°€?
   - μ—¬λ¬ λ©”μ„λ“λ¥Ό ν•λ‚λ΅ ν•©μΉ  μ μλ”κ°€?

2. **"μ΄ λ¨λ“μ΄ λ” λ§μ€ κΈ°λ¥μ„ λ‚΄λ¶€μ— ν΅μν•  μ μλ”κ°€?"**
   - νΈμ¶μκ°€ ν„μ¬ μ²λ¦¬ν•λ” λ΅μ§ μ¤‘ μ΄ λ¨λ“ μ•μΌλ΅ μ®κΈΈ μ μλ” κ²ƒμ΄ μλ”κ°€?

3. **"μ΄ λ¨λ“μ΄ μ¨κΈ°λ” μ •λ³΄λ” λ¬΄μ—‡μΈκ°€?"**
   - μ¨κΈ°λ” μ •λ³΄κ°€ κ±°μ μ—†λ‹¤λ©΄, μ΄ λ¨λ“μ€ μ–•λ‹¤.

### 7.2 μμ‹: κΉμ€ λ¨λ“λ΅ μ¬μ„¤κ³„

```python
# μ–•μ€ λ¨λ“λ“¤
class HttpConnectionManager:
    def create_connection(self, host, port, timeout): ...
    def close_connection(self, conn): ...

class HttpRequestBuilder:
    def set_method(self, method): ...
    def set_headers(self, headers): ...
    def set_body(self, body): ...
    def build(self): ...

class HttpResponseParser:
    def parse_status(self, raw): ...
    def parse_headers(self, raw): ...
    def parse_body(self, raw): ...

# μ‚¬μ©ν•λ ¤λ©΄ μ„Έ ν΄λμ¤λ¥Ό λ¨λ‘ μ•μ•„μ•Ό ν•λ‹¤

# κΉμ€ λ¨λ“λ΅ μ¬μ„¤κ³„
class HttpClient:
    def get(self, url, headers=None) -> HttpResponse: ...
    def post(self, url, body, headers=None) -> HttpResponse: ...
    def put(self, url, body, headers=None) -> HttpResponse: ...
    def delete(self, url, headers=None) -> HttpResponse: ...

# μ»¤λ„¥μ… κ΄€λ¦¬, μ”μ²­ λΉλ“, μ‘λ‹µ νμ‹±μ΄ λ¨λ‘ λ‚΄λ¶€μ— μ¨κ²¨μ§
response = client.get("https://api.example.com/users")
```

---

## μ”μ•½

- λ¨λ“μ€ **μΈν„°νμ΄μ¤**(μ‚¬μ©ν•κΈ° μ„ν•΄ μ•μ•„μ•Ό ν•λ” κ²ƒ)μ™€ **κµ¬ν„**(λ‚΄λ¶€ μ„Έλ¶€μ‚¬ν•­)μΌλ΅ κµ¬μ„±λλ‹¤.
- μΈν„°νμ΄μ¤μ—λ” **κ³µμ‹μ  λ¶€λ¶„**(μ‹κ·Έλ‹μ²)κ³Ό **λΉ„κ³µμ‹μ  λ¶€λ¶„**(λ™μ‘ μ„¤λ…, μ μ•½)μ΄ μλ‹¤.
- **κΉμ€ λ¨λ“**: λ‹¨μν• μΈν„°νμ΄μ¤ λ’¤μ— κ°•λ ¥ν• κΈ°λ¥μ„ μ¨κΈ΄λ‹¤ (μΆ‹μ€ μ„¤κ³„).
- **μ–•μ€ λ¨λ“**: μΈν„°νμ΄μ¤κ°€ λ³µμ΅ν•λ° κΈ°λ¥μ€ λ‹¨μν•λ‹¤ (λ‚μ μ„¤κ³„).
- Unix I/O(5κ° ν•¨μλ΅ μ „μ²΄ I/O)λ” κΉμ€ λ¨λ“μ κµκ³Όμ„μ  μμ‹.
- Java I/O(FileInputStream + BufferedInputStream + ...)λ” μ–•μ€ λ¨λ“μ λ€ν‘μ  μ‚¬λ΅€.
- **Classitis**: λ„λ¬΄ λ§μ€ μ‘μ€ ν΄λμ¤λ¥Ό λ§λ“λ” μ§λ³‘. ν΄λμ¤μ κ°€μΉλ” ν¬κΈ°κ°€ μ•„λ‹λΌ **κΉμ΄**λ΅ νλ‹¨ν•λ‹¤.

---

## Red Flags

- π© **Shallow Module**: μΈν„°νμ΄μ¤κ°€ λ³µμ΅ν•λ° λΉ„ν•΄ μ κ³µν•λ” κΈ°λ¥μ΄ μ μ€ λ¨λ“

---

## λ‹¤μ μ±•ν„°μ™€μ μ—°κ²°

Chapter 5 **"Information Hiding and Leakage (μ •λ³΄ μ€λ‹‰κ³Ό μ •λ³΄ λ„μ¶)"** μ—μ„λ” κΉμ€ λ¨λ“μ„ λ§λ“λ” **ν•µμ‹¬ λ©”μ»¤λ‹μ¦**μΈ μ •λ³΄ μ€λ‹‰μ„ λ‹¤λ£¬λ‹¤. μ •λ³΄λ¥Ό λ¨λ“ λ‚΄λ¶€μ— μ¨κΈ°λ©΄ μΈν„°νμ΄μ¤κ°€ λ‹¨μν•΄μ§€κ³  λ¨λ“μ΄ κΉμ–΄μ§„λ‹¤. λ°λ€λ΅ μ •λ³΄κ°€ μ—¬λ¬ λ¨λ“μ— λ„μ¶λλ©΄ μμ΅΄μ„±κ³Ό λ³µμ΅μ„±μ΄ μ¦κ°€ν•λ‹¤.
